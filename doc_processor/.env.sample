# Example .env file for doc_processor

# How many days to keep files in the archive/originals directory before deleting
ARCHIVE_RETENTION_DAYS=30

# --- Directory Paths ---
INTAKE_DIR="/path/to/scans_intake"
PROCESSED_DIR="/path/to/scans_processed/wip"
ARCHIVE_DIR="/path/to/scans_processed/archive"
FILING_CABINET_DIR="/path/to/scans_processed/final"

# --- Ollama LLM Configuration ---
OLLAMA_HOST="http://localhost:11434"
OLLAMA_MODEL="llama3.1:8b"
OLLAMA_CONTEXT_WINDOW=8192

# --- Ollama Timeout (seconds) ---
OLLAMA_TIMEOUT=45

# --- Task-Specific Context Windows ---
# These control the context window size for different AI tasks
# Smaller contexts = faster inference, larger contexts = better quality for complex tasks
OLLAMA_CTX_CLASSIFICATION=2048    # Document category classification (fast, simple)
OLLAMA_CTX_DETECTION=2048         # Single vs batch document detection
OLLAMA_CTX_CATEGORY=2048          # Page category assignment
OLLAMA_CTX_ORDERING=2048          # Page ordering within documents
OLLAMA_CTX_TITLE_GENERATION=4096  # Document title generation (needs more context)

# --- Database Path ---
DATABASE_PATH="/absolute/path/to/doc_processor/documents.db"

# --- Debugging Flags ---
DEBUG_SKIP_OCR="False"

# --- OCR Rescan Tuning ---
# DPI used when rasterizing PDF pages during manual rescan OCR operations.
# Higher DPI (e.g., 220-300) can improve recognition of small or faint text but increases time & memory usage.
# Reasonable values: 144, 180 (default), 216, 300.
RESCAN_OCR_DPI=180

# --- Feature Flags ---
# Enable LLM-powered tag extraction during document export
# Tags include: people, organizations, places, dates, document types, keywords, amounts, reference numbers
# This enhances markdown files for better searchability and RAG enrichment
ENABLE_TAG_EXTRACTION="True"

# --- Test / Performance Flags ---
# FAST_TEST_MODE skips heavy OCR + LLM to speed tests; creates fallback searchable PDFs.
FAST_TEST_MODE="False"

# Scale factor used when rasterizing PDF pages for OCR (2.0 â‰ˆ 144 DPI). Lower for speed, higher for quality.
OCR_RENDER_SCALE=2.0

# Max characters of per-page OCR text embedded as invisible overlay (truncated to reduce PDF size).
OCR_OVERLAY_TEXT_LIMIT=2000

# --- Flask Settings ---
FLASK_ENV=development
SECRET_KEY=your-secret-key
