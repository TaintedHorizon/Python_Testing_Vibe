# Test environment - safe, repo-local/test-only paths
# Use this file during pytest runs to direct all outputs to test folders
# Override by setting TEST_ENV_FILE to a different path if needed.

# Put the test database into a tmp path by default; conftest also sets a tmp DB
DATABASE_PATH=${TEST_TMPDIR:-/tmp}/tmp_test_documents.db

# Use /tmp locations for all test outputs to avoid touching repo files
INTAKE_DIR=${TEST_TMPDIR:-/tmp}/test_intake
PROCESSED_DIR=${TEST_TMPDIR:-/tmp}/test_processed
ARCHIVE_DIR=${TEST_TMPDIR:-/tmp}/test_archive
FILING_CABINET_DIR=${TEST_TMPDIR:-/tmp}/test_filing_cabinet
NORMALIZED_DIR=${TEST_TMPDIR:-/tmp}/test_normalized

# Force test and fast flags
FAST_TEST_MODE=1
TEST_MODE=1
ALLOW_NEW_DB=1

# Make LLM deterministic and CPU-only for tests
OLLAMA_NUM_GPU=0
SKIP_OLLAMA=1

# Logging to /tmp for tests
# Use a predictable tmp path to avoid writing into the repo tree during tests
LOG_FILE_PATH=${TEST_TMPDIR:-/tmp}/doc_processor_app_test.log

# DB backup in /tmp
DB_BACKUP_DIR=${TEST_TMPDIR:-/tmp}/test_db_backups

# Exports to /tmp
EXPORT_DIR=${TEST_TMPDIR:-/tmp}/test_exports
