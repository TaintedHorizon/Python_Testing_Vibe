doc_processor/tests/e2e/test_categories_metadata_playwright.py: 1
doc_processor/tests/e2e/test_export_verification_playwright.py: 1
doc_processor/tests/e2e/test_full_workflow_playwright.py: 1
doc_processor/tests/e2e/test_group_batch_flow.py: 1
doc_processor/tests/e2e/test_group_batch_playwright.py: 1
doc_processor/tests/e2e/test_grouping_ordering_playwright.py: 1
doc_processor/tests/e2e/test_gui_end_to_end_playwright.py: 1
doc_processor/tests/e2e/test_preview_rotate_persist.py: 1
doc_processor/tests/e2e/test_process_single_documents_e2e_playwright.py: 1
doc_processor/tests/e2e/test_process_single_documents_playwright_full.py: 1
doc_processor/tests/e2e/test_single_and_group_batches.py: 2
doc_processor/tests/e2e/test_single_batch_flow.py: 1
doc_processor/tests/test_batch_guard.py: 1
doc_processor/tests/test_database_path_consistency.py: 1
doc_processor/tests/test_db_backup.py: 1
doc_processor/tests/test_document_tags_constraints.py: 1
doc_processor/tests/test_e2e_scaffold_playwright.py: 1
doc_processor/tests/test_fixture_naming.py: 1
doc_processor/tests/test_intake_to_single_document.py: 1
doc_processor/tests/test_ollama_integration.py: 1
doc_processor/tests/test_rescan_document.py: 8
doc_processor/tests/test_retention_guard.py: 2
doc_processor/tests/test_shutdown.py: 1

==================================== ERRORS ====================================
___________ ERROR collecting doc_processor/tests/e2e/test_sse_ui.py ____________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/e2e/test_sse_ui.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/e2e/test_sse_ui.py:5: in <module>
    from playwright.sync_api import sync_playwright
E   ModuleNotFoundError: No module named 'playwright'
_______________ ERROR collecting doc_processor/tests/test_app.py _______________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_app.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_app.py:1: in <module>
    from doc_processor import app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
___________ ERROR collecting doc_processor/tests/test_batch_logic.py ___________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_batch_logic.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_batch_logic.py:2: in <module>
    from doc_processor.database import get_db_connection
database.py:133: in <module>
    from dotenv import load_dotenv
E   ModuleNotFoundError: No module named 'dotenv'
________ ERROR collecting doc_processor/tests/test_cached_searchable.py ________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_cached_searchable.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_cached_searchable.py:3: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
________ ERROR collecting doc_processor/tests/test_complete_workflow.py ________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_complete_workflow.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_complete_workflow.py:11: in <module>
    from PIL import Image
E   ModuleNotFoundError: No module named 'PIL'
________ ERROR collecting doc_processor/tests/test_concurrent_smart.py _________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_concurrent_smart.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_concurrent_smart.py:7: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
____________ ERROR collecting doc_processor/tests/test_detection.py ____________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_detection.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_detection.py:4: in <module>
    from doc_processor.document_detector import get_detector
document_detector.py:50: in <module>
    import fitz
E   ModuleNotFoundError: No module named 'fitz'
____________ ERROR collecting doc_processor/tests/test_finalize.py _____________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_finalize.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_finalize.py:7: in <module>
    from doc_processor.processing import finalize_single_documents_batch_with_progress
processing.py:238: in <module>
    import fitz  # PyMuPDF
    ^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'fitz'
_____ ERROR collecting doc_processor/tests/test_finalize_normalization.py ______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_finalize_normalization.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_finalize_normalization.py:3: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
________ ERROR collecting doc_processor/tests/test_flask_context_fix.py ________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_flask_context_fix.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_flask_context_fix.py:1: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
________ ERROR collecting doc_processor/tests/test_grouped_rotation.py _________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_grouped_rotation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_grouped_rotation.py:4: in <module>
    import fitz  # PyMuPDF
    ^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'fitz'
__________ ERROR collecting doc_processor/tests/test_gui_inprocess.py __________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_gui_inprocess.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_gui_inprocess.py:9: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
__________ ERROR collecting doc_processor/tests/test_image_support.py __________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_image_support.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_image_support.py:9: in <module>
    from PIL import Image
E   ModuleNotFoundError: No module named 'PIL'
_______ ERROR collecting doc_processor/tests/test_intake_progress_sse.py _______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_intake_progress_sse.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_intake_progress_sse.py:4: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
_______ ERROR collecting doc_processor/tests/test_integration_export.py ________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_integration_export.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_integration_export.py:3: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
______ ERROR collecting doc_processor/tests/test_integration_shutdown.py _______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_integration_shutdown.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_integration_shutdown.py:4: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
__________ ERROR collecting doc_processor/tests/test_llm_detection.py __________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_llm_detection.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_llm_detection.py:1: in <module>
    from doc_processor.document_detector import get_detector
document_detector.py:50: in <module>
    import fitz
E   ModuleNotFoundError: No module named 'fitz'
__________ ERROR collecting doc_processor/tests/test_manipulation.py ___________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_manipulation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_manipulation.py:3: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
______ ERROR collecting doc_processor/tests/test_manipulation_autosave.py ______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_manipulation_autosave.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_manipulation_autosave.py:3: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
_____ ERROR collecting doc_processor/tests/test_ocr_cache_invalidation.py ______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_ocr_cache_invalidation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_ocr_cache_invalidation.py:11: in <module>
    import doc_processor.processing as _proc_mod
processing.py:238: in <module>
    import fitz  # PyMuPDF
    ^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'fitz'
_________ ERROR collecting doc_processor/tests/test_pdf_conversion.py __________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_pdf_conversion.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_pdf_conversion.py:7: in <module>
    from PIL import Image
E   ModuleNotFoundError: No module named 'PIL'
________ ERROR collecting doc_processor/tests/test_progress_tracking.py ________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_progress_tracking.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_progress_tracking.py:1: in <module>
    from doc_processor.processing import _process_single_documents_as_batch_with_progress
processing.py:238: in <module>
    import fitz  # PyMuPDF
    ^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'fitz'
________ ERROR collecting doc_processor/tests/test_rotation_serving.py _________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_rotation_serving.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_rotation_serving.py:18: in <module>
    from doc_processor.app import create_app  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
_____ ERROR collecting doc_processor/tests/test_rotation_utils_presence.py _____
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_rotation_utils_presence.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_rotation_utils_presence.py:2: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
__________ ERROR collecting doc_processor/tests/test_single_export.py __________
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_single_export.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_single_export.py:9: in <module>
    from doc_processor.app import create_app
app.py:25: in <module>
    from flask import Flask, render_template, redirect, url_for, flash
E   ModuleNotFoundError: No module named 'flask'
_____ ERROR collecting doc_processor/tests/test_smart_processing_mixed.py ______
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_smart_processing_mixed.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_smart_processing_mixed.py:1: in <module>
    import fitz
E   ModuleNotFoundError: No module named 'fitz'
____ ERROR collecting doc_processor/tests/test_tag_database_integration.py _____
ImportError while importing test module '/home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_tag_database_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_tag_database_integration.py:10: in <module>
    from doc_processor.database import (
database.py:133: in <module>
    from dotenv import load_dotenv
E   ModuleNotFoundError: No module named 'dotenv'
=============================== warnings summary ===============================
tests/test_intake_to_single_document.py:10
  /home/runner/work/Python_Testing_Vibe/Python_Testing_Vibe/doc_processor/tests/test_intake_to_single_document.py:10: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.timeout(60)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/e2e/test_sse_ui.py
ERROR tests/test_app.py
ERROR tests/test_batch_logic.py
ERROR tests/test_cached_searchable.py
ERROR tests/test_complete_workflow.py
ERROR tests/test_concurrent_smart.py
ERROR tests/test_detection.py
ERROR tests/test_finalize.py
ERROR tests/test_finalize_normalization.py
ERROR tests/test_flask_context_fix.py
ERROR tests/test_grouped_rotation.py
ERROR tests/test_gui_inprocess.py
ERROR tests/test_image_support.py
ERROR tests/test_intake_progress_sse.py
ERROR tests/test_integration_export.py
ERROR tests/test_integration_shutdown.py
ERROR tests/test_llm_detection.py
ERROR tests/test_manipulation.py
ERROR tests/test_manipulation_autosave.py
ERROR tests/test_ocr_cache_invalidation.py
ERROR tests/test_pdf_conversion.py
ERROR tests/test_progress_tracking.py
ERROR tests/test_rotation_serving.py
ERROR tests/test_rotation_utils_presence.py
ERROR tests/test_single_export.py
ERROR tests/test_smart_processing_mixed.py
ERROR tests/test_tag_database_integration.py
!!!!!!!!!!!!!!!!!!! Interrupted: 27 errors during collection !!!!!!!!!!!!!!!!!!!
