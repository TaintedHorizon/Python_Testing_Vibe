{% extends 'base.html' %}

{% block title %}New Batch{% endblock %}

{% block content %}
    <div style="text-align: center;">
        <h1>Start a New Processing Batch</h1>
        <p>Click the button below to start processing all documents in the intake folder.</p>
        <br>
        
        <form id="batch-form" action="{{ url_for('handle_batch_processing') }}" method="post">
            <button id="start-button" type="submit">Start New Batch</button>
        </form>

        {% if message %}
            <p style="margin-top: 2em; font-weight: bold; color: green;">{{ message }}</p>
        {% endif %}
    </div>

    <script>
        document.getElementById('batch-form').addEventListener('submit', function() {
            var button = document.getElementById('start-button');
            button.disabled = true;
            button.innerText = 'Processing... Please Wait...';
        });
    </script>
{% endblock %}